<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3. Sınıf 9. Ünite İngilizce Kelime Testi</title>
    <style>
        /* GENEL VE MOBİL STİL AYARLARI */
        body {
            font-family: 'Segoe UI', 'Arial', sans-serif; 
            background: linear-gradient(135deg, #a8dadc 0%, #457b9d 100%); 
            margin: 0;
            padding: 15px 0;
            display: flex;
            flex-direction: column; 
            align-items: center;
            overflow-x: hidden; 
            min-height: 100vh;
        }
        
        .signature {
            text-align: center;
            margin: 15px 0;
            padding: 5px 0;
            font-size: 1.2rem; 
            color: #f1faee; 
            font-style: italic;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 600px;
        }

        .top-signature {
            font-family: 'Impact', 'Franklin Gothic Bold', sans-serif; 
            font-size: 3.5rem; 
            color: #ffbe0b; 
            text-shadow: 
                -3px -3px 0 #e63946, 
                 3px -3px 0 #e63946,
                -3px  3px 0 #e63946,
                 3px  3px 0 #e63946,
                 5px  5px 0 #1d3557; 
            margin-bottom: 30px; 
            letter-spacing: 3px; 
            animation: bounce 2s infinite; 
            padding: 10px 20px; 
            background: linear-gradient(45deg, #f1faee, #a8dadc); 
            border-radius: 15px; 
            box-shadow: 0 8px 15px rgba(0,0,0,0.3); 
        }

        .bottom-signature {
            font-size: 1.2rem;
            color: #f1faee;
            font-style: italic;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            margin-top: 20px;
        }

        #quiz-container {
            width: 95%;
            max-width: 600px;
            background-color: #ffffff;
            padding: 20px 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2); 
            border-radius: 20px; 
            border: 5px solid #ffbe0b; 
            animation: fadeIn 1s ease-out; 
            position: relative; 
            overflow: hidden; 
        }

        h1 {
            color: #e63946; 
            text-align: center;
            margin-bottom: 25px;
            font-size: 1.8rem; 
            border-bottom: 3px dashed #a8dadc; 
            padding-bottom: 10px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            line-height: 1.3;
        }

        .question {
            margin-bottom: 25px;
            padding: 15px 0;
            border-bottom: 1px dashed #ced4da; 
            animation: slideInUp 0.5s ease-out forwards; 
            opacity: 0; 
            transform: translateY(20px); 
        }

        .question-text {
            font-family: 'Verdana', 'Helvetica Neue', Arial, sans-serif; 
            font-size: 1.3rem; 
            color: #1d3557; 
            font-weight: bold;
            margin-bottom: 15px;
            background-color: #f1faee; 
            padding: 10px;
            border-radius: 8px;
            border-left: 5px solid #457b9d; 
        }

        .option-button {
            font-family: 'Verdana', 'Helvetica Neue', Arial, sans-serif;
            display: block;
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            border: 2px solid #a8dadc; 
            border-radius: 15px; 
            background-color: #f9f9f9;
            color: #333;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease; 
            font-size: 1.1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.08);
            user-select: none;
        }

        .option-button:hover:not(:disabled) {
            background-color: #e0f2f7; 
            border-color: #1d3557; 
            transform: translateY(-3px); 
        }

        .option-button.correct {
            background-color: #d4edda; 
            border-color: #28a745;    
            color: #155724;
            font-weight: bold;
        }

        .option-button.incorrect {
            background-color: #f8d7da; 
            border-color: #dc3545;    
            color: #721c24;
            font-weight: bold;
        }

        .result-button {
            width: 100%;
            padding: 15px;
            background-color: #457b9d; 
            color: white;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.3rem;
            margin-top: 30px;
        }

        #results {
            margin-top: 25px;
            padding: 20px;
            border: 3px solid #e63946; 
            border-radius: 15px;
            text-align: center;
            font-size: 1.3rem;
            font-weight: bold;
            background-color: #fffacd; 
            display: none;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateY(0); } 40% { transform: translateY(-15px); } 60% { transform: translateY(-8px); } }

    </style>
</head>
<body>

    <div class="signature top-signature">Esen Teacher</div>

    <div id="quiz-container">
        <h1>3. Sınıf 9. Ünite İngilizce Kelime Testi<br><small style="font-size: 1rem; color: #457b9d;">Weather & Feelings</small></h1>
        <div id="questions-area"></div>
        
        <button class="result-button" onclick="showResults()">Testi Bitir ve Sonucu Gör</button>
        <div id="results"></div>
    </div>

    <div class="signature bottom-signature">Esen Teacher</div>

    <script>
        // SİZİN BELİRTTİĞİNİZ KELİME LİSTESİ
        const wordList = [
            { en: "blow", tr: "esmek" },
            { en: "build", tr: "yapmak, inşa etmek" },
            { en: "cloud", tr: "bulut" },
            { en: "cloudy", tr: "bulutlu" },
            { en: "cold", tr: "soğuk" },
            { en: "cool", tr: "serin" },
            { en: "dry", tr: "kuru" },
            { en: "foggy", tr: "sisli" },
            { en: "get wet", tr: "ıslanmak" },
            { en: "hot", tr: "sıcak" },
            { en: "nice", tr: "güzel, hoş" },
            { en: "rain", tr: "yağmur, (yağmur) yağmak" },
            { en: "raincoat", tr: "yağmurluk" },
            { en: "raining", tr: "yağış" },
            { en: "rainy", tr: "yağmurlu" },
            { en: "snow", tr: "kar, (kar) yağmak" },
            { en: "snowy", tr: "karlı" },
            { en: "stormy", tr: "fırtınalı" },
            { en: "sun", tr: "güneş" },
            { en: "sunny", tr: "güneşli" },
            { en: "swim", tr: "yüzmek" },
            { en: "umbrella", tr: "şemsiye" },
            { en: "warm", tr: "ılık, sıcak" },
            { en: "wear", tr: "giymek" },
            { en: "weather", tr: "hava" },
            { en: "wet", tr: "ıslak; ıslatmak" },
            { en: "windy", tr: "rüzgârlı" }
        ];

        let score = 0;
        const answeredQuestions = {}; 

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function generateQuiz() {
            const quizArea = document.getElementById('questions-area');
            const uniqueTurkishMeanings = [...new Set(wordList.map(item => item.tr))];
            const shuffledWords = shuffleArray([...wordList]);
            
            let htmlContent = '';
            
            shuffledWords.forEach((word, index) => {
                const questionId = `q${index + 1}`;
                const correctMeaning = word.tr;
                let distractors = uniqueTurkishMeanings.filter(m => m !== correctMeaning);
                shuffleArray(distractors);
                distractors = distractors.slice(0, 3);
                let options = shuffleArray([correctMeaning, ...distractors]);
                
                htmlContent += `
                    <div class="question" id="${questionId}" style="animation-delay: ${Math.min(index * 0.05, 2)}s;">
                        <p class="question-text">${index + 1}. ${word.en}</p>
                `;

                options.forEach(option => {
                    const escapedOption = option.replace(/'/g, "\\'");
                    htmlContent += `
                        <button class="option-button" 
                                data-answer="${option}" 
                                onclick="checkAnswer('${questionId}', '${escapedOption}')">
                            ${option}
                        </button>
                    `;
                });
                htmlContent += `</div>`;
            });
            quizArea.innerHTML = htmlContent;
        }

        function checkAnswer(questionId, selectedAnswer) {
            if (answeredQuestions[questionId]) return;
            const questionElement = document.getElementById(questionId);
            const buttons = questionElement.querySelectorAll('.option-button');
            const questionText = questionElement.querySelector('.question-text').textContent.replace(/^\d+\.\s+/, '').trim();
            const correctWordObject = wordList.find(w => w.en.trim() === questionText);
            const correctAnswer = correctWordObject ? correctWordObject.tr : null;

            if (!correctAnswer) return;
            const isCorrect = selectedAnswer === correctAnswer;

            buttons.forEach(button => {
                const buttonAnswer = button.getAttribute('data-answer');
                button.disabled = true;
                if (buttonAnswer === selectedAnswer) {
                    if (isCorrect) {
                        button.classList.add('correct');
                        score++;
                    } else {
                        button.classList.add('incorrect');
                    }
                }
                if (buttonAnswer === correctAnswer) {
                    button.classList.add('correct');
                }
            });
            answeredQuestions[questionId] = true;
        }

        function showResults() {
            const totalQuestions = document.querySelectorAll('.question').length; 
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = `<h2>TEST SONUCU</h2><p>Doğru Cevap: ${score} / ${totalQuestions}</p>`;
            resultsDiv.style.display = 'block';
            resultsDiv.scrollIntoView({behavior: "smooth"});
        }

        document.addEventListener('DOMContentLoaded', generateQuiz);
    </script>
</body>
</html>